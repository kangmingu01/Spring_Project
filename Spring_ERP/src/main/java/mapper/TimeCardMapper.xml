<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.TimeCardMapper">

<insert id="insertTimeCard">
		<selectKey resultType="int" keyProperty="timeCardId" order="BEFORE">
			select timecard_seq.nextval from dual
		</selectKey>
		insert into timecard values(#{dailywork}, #{workedhours}, sysdate )
	</insert>
	
	<update id="updateTimeCard">
		update timecard set dailywork=#{dailywork}, workedhours=${workedhours} where timecardid=#{timecardid}
	</update>

<select id="selectTimeCardByName" parameterType="String" resultType="TimeCard">
    select t.* from timecard t join erp_user u on t.userid = u.userid where u.name = #{name}
</select>
</mapper>